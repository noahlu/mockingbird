<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>javascript 事件 event  - 前端网事</title>
<link rel="stylesheet" charset="utf-8" href="/assets/lib/google-code-prettify/prettify.css" />
<link rel="stylesheet" charset="utf-8" href="/assets/lib/bootstrap/css/bootstrap.css" />
<link rel="stylesheet" charset="utf-8" href="/assets/css/global.css" />
<script charset="utf-8" src="/assets/lib/seajs/sea.js"></script>
<script type="text/javascript">
seajs.config({
    alias : {
        'jquery': '/assets/lib/jquery/1.8.1/jquery.min.js',       
        'bootstrap': '/assets/lib/bootstrap/js/bootstrap.min.js',       
        'prettify': '/assets/lib/google-code-prettify/prettify.js',       
    },
    preload: 'jquery',
    //debug: true,
    charset: 'utf-8'
});
seajs.modify('jquery', function(require, exports) {
  window.jQuery = window.$ = exports
});
seajs.modify('bootstrap', function(require, exports, module) {
  module.exports = $.bootstrap;
});
seajs.modify('prettify', function(require, exports, module) {
  module.exports = $.prettify;
});
</script>
</head>
<body class="main">
<div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="/">前端网事</a>
            <div class="pull-left navbar-text" >春天把代码种下去，秋天收获好多好多用户</div>
                        <div class="nav-collapse collapse pull-right">
                <ul class="nav">
                    <li><a href="http://www.noahlu.com/about.htm">About</a></li>
                    <li><a href="http://www.noahlu.com/portfolio.htm">Portfolio</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    <!--/.contsiner -->
    </div>
</div>
<!--/.navbar -->

<div class="main-content clearfix">

    <div class="content-post span9">
        <div class="page-header post-head">
            <ul class="breadcrumb">
                <li><a href="/">Home</a> <span class="divider">/</span></li>
                                <li><a href="/javascript-note/">JAVASCRIPT笔记</a> <span class="divider">/</span></li>
                            </ul>
            <h1>小议Javascript事件</h1>
            <p class="post-head-date">2012-09-26 17:33:14 <a href="#comments">评论</a></p>
                    </div>
        
        <div class="post-body">
            <style type="text/css">
	.example-area{border:1px dotted #444;padding:5px 25px; background:#eee;}
	.red{color:red;} 
</style>
<script type="text/javascript">
if(!window.console){ 
	window.console={
		log:function(){}
	}
}
</script>
<a name="no1"></a>
<h2>
	1. Javascript 键盘事件
</h2>
<h3>
	Keydown
</h3>
<div class="example-area">
	<p>
		keydown事件：当用户按下键盘上面的一个键时会触发，用户一直按着这个键他就会持续触发。
	</p>
<input type="text" value="input text" onkeydown="document.getElementById('text1').innerHTML=event.keyCode" onclick="this.value=''" /> 
	<div>
		KeyCode = <span id="text1" class="red"></span>
	</div>
</div>
<h3>
	Keypress
</h3>
<div class="example-area">
	<p>
		keypress事件：有一点点的不同，用户按着一个字符键（原文是character key）才触发，就是说用户按了一个能在屏幕上输出字符的按键keypress事件才会触发
	</p>
<input type="text" value="input text" onkeypress="document.getElementById('text2').innerHTML=event.keyCode" onclick="this.value=''" /> 
	<div>
		KeyCode = <span id="text2" class="red"></span>
	</div>
</div>
<h3>
	Keyup
</h3>
<div class="example-area">
	<p>
		keyup事件：很简单，当我们释放一个按键时候会触发。
	</p>
<input type="text" value="input text" onkeyup="document.getElementById('text3').innerHTML=event.keyCode" onclick="this.value=''" /> 
	<div>
		KeyCode = <span id="text3" class="red"></span>
	</div>
</div>
<h3>
	KeyCode &amp; CharCode(keydown)
</h3>
<div class="example-area">
	<p>
		键盘事件拥有两个属性，keyCode和CharCode，他们之间有一些不一样之处。keyCode表示用户按下键的实际的编码，而charCode是指用户按下字符的编码。
	</p>
<input type="text" value="input text" onkeydown="document.getElementById('keycode').innerHTML=event.keyCode;document.getElementById('charcode').innerHTML=event.charCode" onkeypress="document.getElementById('keycode2').innerHTML=event.keyCode;document.getElementById('charcode2').innerHTML=event.charCode" onclick="this.value=''" /> 
	<div>
		在Keydown时，KeyCode=<span id="keycode" class="red"></span>;CharCode=<span id="charcode" class="red"></span>
	</div>
	<div>
		在Keypress时，KeyCode=<span id="keycode2" class="red"></span>;CharCode=<span id="charcode2" class="red"></span>
	</div>
</div>
<h3>
	总结
</h3>
<div class="example-area">
<pre>当我按下“a键（注意是小写的字母）时，
在火狐中会得到
keydown：keyCode is 65  charCode is 0
keypress：keyCode is 0   charCode is 97
keyup：  keyCode is 65  charCode is 0
在谷歌中会得到
keydown：keyCode is 65  charCode is 0
keypress：keyCode is 97  charCode is 97
keyup：  keyCode is 65  charCode is 0
在IE中会得到
keydown：keyCode is 65  charCode is undefined
keypress：keyCode is 97  charCode is undefined
keyup：  keyCode is 65  charCode is undefined
	</pre>
</div>
<h3>
	最佳实践
</h3>
<p>
	使用<strong class="red">keydown</strong>的<strong class="red">keycode</strong>来判断用户的键盘输入，可以跨浏览器兼容。参考键盘按键对应的keycode，猛击<a href="http://hanxinyu.iteye.com/blog/33400" target="_blank">这里</a>。
</p>
<p>
	关于keycode和charcode的更多细节，有兴趣的同学可以看<a href="http://stackoverflow.com/questions/1444477/keycode-and-charcode" target="_blank">这里</a>，还有<a href="http://unixpapa.com/js/key.html" target="_blank">这里</a>，有非常详细的研究
</p>
<a name="no2"></a>
<h2>
	2. 设备事件和界面事件
</h2>
<p>
	为了说明设备事件和界面事件的区别，先click和focus举一个例子，分别给输入框绑定click和focus事件，事件触发后js来选中输入框中的文本内容：
</p>
<div class="example-area">
	<p>
		表单文本框<span class="red">focus</span>事件绑定（在chrome下不会选中）
	</p>
<input type="text" value="value" onfocus="javascript:this.select();" /> 
</div>
<div class="example-area">
	<p>
		表单文本框<span class="red">click</span>事件绑定
	</p>
<input type="text" value="value" onclick="javascript:this.select();" /> 
</div>
<h3>
	设备事件
</h3>
<p>
	鼠标和键盘事件是在使用输入设备的时候触发的，这些事件的例子如，mouseout，mouseover，<span class="red">click</span>，keydown，keypress
</p>
<h3>
	界面事件
</h3>
<p>
	在一个常规事件触发时执行，而不关注它是如何被触发的。界面事件的一个比较好的例子是，表单的submit事件，当一个表单被提交他就会触发，而表单submit事件并不关心用户是用什么方式来提交表单的，如onload，onupload，change，<span class="red">focus</span>，blur
</p>
<h3>
	区别
</h3>
<p>
	大体来说，界面事件不支持冒泡，
</p>
<a name="no3"></a>
<h2>
	3. 鼠标点击事件
</h2>
<div class="example-area">
	<p>
		下面将试验一次鼠标点击事件中，click，focus，mousedown，mouseup四个事件的触发顺序。
	</p>
<input type="text" value="value" onclick="document.getElementById('output').innerHTML+='click; '" onfocus="document.getElementById('output').innerHTML+='focus; '" onmousedown="document.getElementById('output').innerHTML+='mousedown; '" onmouseup="document.getElementById('output').innerHTML+='mouseup; '" /> 
	<div>
		执行顺序：<span id="output"></span>
	</div>
</div>
<h3>
	总结
</h3>
<p>
	一次鼠标点击事件中，触发的四个事件顺序是mousedown-&gt;focus-&gt;mouseup-&gt;click
</p>
<p>
	<br />
</p>        </div>
        <!--/.post-body -->
    </div>
    <!--/.content-post -->

    
<div class="content-recom ">
    <p>
        some words here.
    </p>
    <div class="well content-recom-list">
        <ul class="nav nav-list">
            <li class="nav-header"><i class="icon-folder-open"></i> 分类</li>
                            <li><a href="/javascript-note/">JAVASCRIPT笔记</a></li>
                            <li><a href="/css/">CSS</a></li>
                            <li><a href="/it-news/">IT风云</a></li>
                            <li><a href="/test/">测试专用目录</a></li>
                        <li class="nav-header"><i class="icon-file"></i> 推荐日志</li>
            
                            <li class="l-style-disc"><a href="/javascript-note/javascript-style-modification.htm">在Javascript中获取元素样式</a></li>
                            <li class="l-style-disc"><a href="/javascript-note/javascript-star-rating.htm">星型评分的Javascript代码</a></li>
                            <li class="l-style-disc"><a href="/javascript-note/script-to-collect-google-top10-page-info.htm">写了一个统计Google搜索前十名页面信息的脚本</a></li>
                            <li class="l-style-disc"><a href="/css/inline-and-block.htm">从tab设计看html元素inline和block的区别</a></li>
                            <li class="l-style-disc"><a href="/test/test1.htm">测试日志1</a></li>
                            <li class="l-style-disc"><a href="/it-news/csdn-user-password-leakage.htm">CSDN网站600万用户密码泄露！</a></li>
                            <li class="l-style-disc"><a href="/test/中文名.htm">测试中文文件名</a></li>
                        <li class="nav-header"><i class="icon-plus-sign"></i> 圈子</li>
            <li><a href="">前端</a></li>
        </ul>
    </div>
</div>
<!--/.content-recom -->

    <div class="content-comments span9">
        <a name="comments"></a>
        <div id="disqus_thread" class="comments-disqus"></div>
        <!-- disqus script-->
        <script type="text/javascript">
            var disqus_shortname = 'noahuasblog';
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
    </div>
    <!--/.content-comments -->

    
</div>
<!--/.main-content -->

<div class="footer">
    <div class="footer-seperater"></div>
    <div class="footer-info clearfix">
        <p class="span10 ">Copyright © 2012 - Noah Lu - Powered by <a href="http://mockingbird.noahlu.com">Mockingbird</a></p>
        <div class="footer-info-links">
        </div>
    </div>
</div>



<div id="tracker" class="hide">
    <!--51.la -->
    <script language="javascript" type="text/javascript" src="http://js.users.51.la/4164118.js"></script>
    <noscript><a href="http://www.51.la/?4164118" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/4164118.asp" style="border:none" /></a></noscript>

    <!-- ga -->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18326235-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</div>
<script charset="utf-8" src="/assets/js/global.js"></script>

</body>
</html>
